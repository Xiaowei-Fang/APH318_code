## Project Overview

This repository contains Python code for analyzing diabetic patient data, with a focus on predicting Type 2 diabetes diagnosis. The project involves data preprocessing, machine learning model training and evaluation, and subgroup analysis.

## File Structure

- `process_data.py`: Main data preprocessing script that cleans raw diabetic data and creates a processed dataset with 12 clinical features
- `models.py`: Machine learning model training and comparison script using Logistic Regression, Random Forest, and XGBoost
- `subgroup_analysis.py`: Performs subgroup analysis on the trained model to evaluate performance across different patient demographics
- `picture.py`: Generates visualization plots for data exploration and results presentation
- `diabetic_data.csv`: Raw dataset containing patient encounter information
- Processed data files generated by scripts: `processed_diabetic_data.csv`

## Key Dependencies

- pandas
- numpy
- scikit-learn
- xgboost
- matplotlib
- seaborn
- shap

## Common Development Tasks

### Data Processing
```bash
python process_data.py
```
Processes the raw `diabetic_data.csv` file and generates `processed_diabetic_data.csv` with cleaned features.

### Model Training and Evaluation
```bash
python models.py
```
Trains and compares multiple machine learning models (Logistic Regression, Random Forest, XGBoost) for diabetes prediction.

### Subgroup Analysis
```bash
python subgroup_analysis.py
```
Runs subgroup analysis to evaluate model performance across different patient demographics.

### Visualization
```bash
python picture.py
```
Generates exploratory data analysis plots and visualization of results.

## Architecture Overview

The project follows a typical machine learning workflow:
1. Data preprocessing (`process_data.py`) transforms raw clinical data into a clean feature set
2. Model training and evaluation (`models.py`) compares different algorithms and tunes hyperparameters
3. Subgroup analysis (`subgroup_analysis.py`) validates model performance across patient subpopulations
4. Visualization (`picture.py`) provides insights into data distribution and model results

Key features include:
- Handling of missing values and categorical encoding
- Creation of interaction features using polynomial transformations
- Imbalanced dataset handling with class weighting
- Comprehensive model evaluation with multiple metrics
- SHAP interpretability for model explainability
- Bootstrap confidence intervals for statistical validity